```
💡 提示： 在实际开发中，产品的需求千变万化。面对复杂的功能，通常的做法是“拆分”。即把一个复杂的需求分解为多个简单的需求，然后逐个实现。
```

以打印菱形为例学习循环结构，其实：

- 菱形就是由`n`行组成的；
- 菱形是上下轴对称图形，以第`(n-1)/2`行为轴。

将菱形拆分为上下两个三角形，可以发现：

- 每行都是由若干空格和若干星号构成；
- 对于上半部分（i从1开始）：
  - 第i行的星号数是`2*i-1`个；
  - 第i行的空格数是`(n-1)/2-i`个。
- 对于下半部分（i从1开始）：
  - 第i行的空格数是`i`个；
  - 第i行的星号数是`2*(n-1)/2-1-(i*2)`个。

到此，我们不仅做完了拆分，还摸透了规律。接下来，只要按规律编写代码即可。在Go语言中，像这种重复地执行相似逻辑，可以使用循环结构实现。循环结构的格式如下：

```Go
for init; condition; post {
    //循环体代码块
}
```

其中，for表明接下来的代码是for循环结构；init是初始化语句；condition是关系或逻辑表达式，值为true时则会停止循环；post是每次循环结束后执行的语句；循环体代码块就是要重复执行的代码了。

接下来，我们用这个循环结构实现上半部分的三角形：

```Go
func main() {
   n := 7
   for i := 1; i <= n; i++ {
      for j := 0; j < n-i; j++ {
         fmt.Print(" ")
      }
      for k := 0; k < 2*i-1; k++ {
         fmt.Print("*")
      }
      fmt.Println()
   }
}
```

我们逐行理解上述代码。

1. 声明变量n，并赋初值为7，表示上半部分由7行构成（包含对称轴）。
2. 接下来是for循环结构，**初始化条件是变量i为1**，i表示总行数；判断**退出循环的条件是变量i小于或等于n**，即输出7行后退出；每次循环即完成单行输出，因此在**循环后i自增1**。如此，便构成了总共循环7次的for循环结构。
3. 在for循环内部，有两个for循环，分别用于**输出空格**和**星号**，另外在两个循环执行完毕后，输出了**换行**，用于折行。
4. 用于输出空格的for循环结构，**初始化条件是变量j为0**，j表示输出的空格数；判断**退出循环的条件是变量j小于`n-i`**，即总共输出`n-i`个空格；每次循环完成所有空格的输出，因此**循环后j自增1**。如此，便实现了单行空格的输出。
5. 用于输出星号的for循环结构，**初始化条件是变量k为0**，k表示输出的星号数；判断**退出循环的条件是变量k小于`2\*i-1`**，即总共输出`2*i-1`个星号；每次循环完成所有星号的输出，因此**循环后k自增1**。如此，便实现了单行星号的输出。

好了，如果各位理解了上半部分的实现原理，不妨亲自动手尝试实现下半部分。

```
❗️ 注意： 使用循环时，务必确保有明确的可退出循环的条件，否则程序将陷入死循环，无法终止。
```

输出菱形的完整代码如下：

```Go
func main() {
    n := 7
    for i := 1; i <= n; i++ {
        for j := 0; j < n-i; j++ {
                fmt.Print(" ")
        }
        for k := 0; k < 2*i-1; k++ {
                fmt.Print("*")
        }
        fmt.Println()
    }
    for i := 1; i < n; i++ {
        for j := 0; j < i; j++ {
            fmt.Print(" ")
        }
        for k := 0; k < 2*n-1-2*i; k++ {
            fmt.Print("*")
        }
            fmt.Println()
    }
}
```